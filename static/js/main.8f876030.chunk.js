(this.webpackJsonpposttox=this.webpackJsonpposttox||[]).push([[0],{116:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),o=a.n(r),c=(a(116),a(192)),i=a(37),s=a.n(i),m=a(146),u=a(184),p=a(189),d=a(190),g=a(92),E=new(a.n(g).a);var f=function(e){var t=e.message,a=E.countGraphemes(t);return l.a.createElement(m.a,{display:"inline",variant:"body1"},a)},h=a(180),v=a(96),b=a.n(v),x=a(187),C=a(188),O=a(186),B=a(176),w=a(177);var y=function(e){var t=e.title,a=e.openButton,n=e.postButton;return l.a.createElement(B.a,null,l.a.createElement(w.a,{align:"left"},t),l.a.createElement(w.a,{align:"right"},a),l.a.createElement(w.a,{align:"right"},n))},k=a(41),S=Object(n.createContext)();function I(e){window.open(e,"posttox_target")}function P(e){var t,a,r=e.children,o=Object(n.useState)(null!==(t=localStorage.mastodonInstance)&&void 0!==t?t:"https://g0v.social"),c=Object(k.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)(null!==(a=localStorage.message)&&void 0!==a?a:""),u=Object(k.a)(m,2),p=u[0],d=u[1],g=Object(n.useState)(!1),E=Object(k.a)(g,2),f=E[0],h=E[1],v={mastodonInstance:i,setMastodonInstance:function(e){localStorage.mastodonInstance=e,s(e)},message:p,setMessage:function(e){localStorage.message=e,d(e)},copiedSnackBarOpen:f,setCopiedSnackBarOpen:h,openUrl:I,copyToClipboard:function(){var e=document.createElement("textarea");e.style="position: absolute; left: -10000px; top: -10000px",e.value=p,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),h(!0)}};return l.a.createElement(S.Provider,{value:v},r)}S.Consumer;var N=S,j=a(179),M=s()((function(e){return{disabled:{pointerEvents:"none",color:e.palette.action.disabled}}}));var T=function(e){var t=e.href,a=e.onClick,n=e.disabled,r=e.children,o=M(),c=n?o.disabled:"";return l.a.createElement(j.a,{href:t,onClick:a,target:"_blank",className:c,underline:"none",rel:"noopener noreferrer"},r)};var F=function(){var e=l.a.useContext(N).message,t=0===e.length,a=encodeURIComponent(e),n="https://twitter.com/intent/tweet?text=".concat(a);return l.a.createElement(y,{title:"Twitter",openButton:l.a.createElement(T,{href:"https://twitter.com/"},"OPEN"),postButton:l.a.createElement(T,{href:n,disabled:t},"POST")})};var R=function(){var e=l.a.useContext(N).message,t=encodeURIComponent(e),a="https://parler.com/new-post?message=".concat(t),n=0===e.length;return l.a.createElement(y,{title:"Parler",openButton:l.a.createElement(T,{href:"https://parler.com/"},"OPEN"),postButton:l.a.createElement(T,{href:a,disabled:n},"POST")})};var U=function(){var e=l.a.useContext(N).message,t=0===e.length,a=encodeURIComponent(e),n="http://plurk.com/?qualifier=shares&status=".concat(a);return l.a.createElement(y,{title:"Plurk",openButton:l.a.createElement(T,{href:"https://plurk.com"},"OPEN"),postButton:l.a.createElement(T,{href:n,disabled:t},"POST")})},W=a(181),D=a(185),G=a(94),L=a.n(G),z=a(93),J=a.n(z),X=s()((function(){return{configBar:{borderBottom:"0px"}}}));var _=function(){var e=X(),t=Object(n.useState)(!1),a=Object(k.a)(t,2),r=a[0],o=a[1],i=Object(n.useContext)(N),s=i.mastodonInstance,m=i.setMastodonInstance,u=i.message,d=encodeURIComponent(u),g=0===u.length||d.length>700||""===s,E=""===s,f=encodeURIComponent(u),v="".concat(s,"/share?text=").concat(f);return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,{title:l.a.createElement(l.a.Fragment,null,"Mastodon",l.a.createElement(h.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!r)}},r?l.a.createElement(J.a,null):l.a.createElement(L.a,null))),openButton:l.a.createElement(T,{href:s,disabled:E},"OPEN"),postButton:l.a.createElement(T,{href:v,disabled:g},"POST")}),l.a.createElement(B.a,null,l.a.createElement(w.a,{className:e.configBar,style:{paddingBottom:0,paddingTop:0},colSpan:3},l.a.createElement(W.a,{in:r,timeout:"auto",unmountOnExit:!0},l.a.createElement(c.a,{display:"flex",alignItems:"flex-end"},l.a.createElement(c.a,{clone:!0,flexGrow:1},l.a.createElement(p.a,{autoFocus:!0,margin:"dense",value:s,fullWidth:!0,label:"Address",onChange:function(e){m(e.target.value)}})),l.a.createElement(D.a,{style:{marginLeft:"16px"},onClick:function(){for(var e=function(){var e=["https://g0v.socal","https://mastodon.social","https://pawoo.net/"];return e[Math.floor(Math.random()*Math.floor(e.length))]},t=e();t===s;)t=e();m(t)}},"Random"))))))},q=function(e){var t=e.children;return l.a.createElement("div",{style:{width:"100%",maxWidth:"640px"}},t)},A=function(e){var t=e.title,a=e.url;return l.a.createElement(y,{title:t,openButton:l.a.createElement(T,{href:a},"OPEN")})},H=function(){return l.a.createElement(A,{title:"gab",url:"https://gab.com"})},V=function(){return l.a.createElement(A,{title:"MeWe",url:"https://mewe.com/myworld"})},K=function(){return l.a.createElement(A,{title:"Facebook",url:"https://facebook.com"})};var Q=function(){var e=l.a.useContext(N).message;return l.a.createElement(O.a,{component:q},l.a.createElement(x.a,null,l.a.createElement(C.a,null,l.a.createElement(_,null),l.a.createElement(V,null),l.a.createElement(R,{message:e}),l.a.createElement(U,{message:e}),l.a.createElement(H,null),l.a.createElement(F,{message:e}),l.a.createElement(K,null))))},Y=a(191),Z=s()((function(e){return{paper:{padding:"20px",margin:"0px",maxWidth:"640px"},full:{width:"100%",height:"100%"},content:{width:"100%",height:"100%",backgroundColor:e.palette.background.default},page:{width:"100vw",height:"100vh"},appBar:{position:"relative",margin:0,padding:0},textField:{marginBottom:e.spacing(1)},link:{textDecoration:"none","&, &:visited, &:active":{color:"inherit"}}}})),$=function(e){var t=e.children,a=Z();return l.a.createElement(c.a,{display:"flex",justifyContent:"center",className:a.content},l.a.createElement(c.a,{flexGrow:1,clone:!0},l.a.createElement(u.a,{className:a.paper},t)))};var ee=function(){var e=Z(),t=Object(n.useContext)(N),a=t.message,r=t.setMessage,o=t.copyToClipboard,i=t.copiedSnackBarOpen,s=t.setCopiedSnackBarOpen;return l.a.createElement($,null,l.a.createElement(c.a,{display:"flex",flexDirection:"column",className:e.full},l.a.createElement(c.a,{display:"flex",alignItems:"center"},l.a.createElement(m.a,{gutterBottom:!0,display:"inline",variant:"h5"},"PostToX")),l.a.createElement(m.a,{gutterBottom:!0,variant:"subtitle1"},"Write something and post to X SNS platforms. \xa0",l.a.createElement("a",{href:"https://github.com/benlau/posttox",className:e.link},"Learn more.")),l.a.createElement(c.a,{clone:!0},l.a.createElement(p.a,{label:"Message",multiline:!0,variant:"filled",rows:10,onChange:function(e){r(e.target.value)},defaultValue:a,className:e.textField})),l.a.createElement(c.a,{display:"flex",alignItems:"flex-start"},l.a.createElement(d.a,{title:"Copy to Clipboard"},l.a.createElement(h.a,{"aria-label":"Copy",onClick:o,disabled:0===a.length},l.a.createElement(b.a,null))),l.a.createElement(c.a,{flexGrow:1}),l.a.createElement(f,{message:a})),l.a.createElement(Q,null)),l.a.createElement(Y.a,{anchorOrigin:{vertical:"top",horizontal:"center"},message:"Copied to Clipboard",open:i,autoHideDuration:800,onClose:function(e,t){"clickaway"!==t&&s(!1)}}))};var te=function(){return l.a.createElement(P,null,l.a.createElement(ee,null))},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,193)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),l(e),r(e),o(e)}))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(te,null)),document.getElementById("root")),ae()}},[[145,1,2]]]);
//# sourceMappingURL=main.8f876030.chunk.js.map